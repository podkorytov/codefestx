<!-- host: event -->

<!-- Side -->
<ng-content select="[side]"></ng-content>

<!-- Info (todo details)-->
<article
  (click)="onClickHandler($event)"
  class="event-card"
  [class.event-card--clickable]="clickable">

  <!-- Meta -->
  <div class="event-card__meta">
    <ng-content select="[meta]"></ng-content>
  </div>

  <!-- Title -->
  <p class="event-card__title">
    {{ title }}
  </p>

  <div
    class="event-card__description"
    [innerHTML]="description">
  </div>

  <!-- speakers (todo: info item) -->
  <div
    *ngIf="speakers.isNotEmpty"
    class="event-card__speakers info-item">

    <template [ngIf]="sameCompany">
      <!-- media -->
      <div
        class="info-item__media">

        <span
          *ngFor="let speaker of speakers"
          class="info-item__media-container">

          <img
            [src]="speaker.avatarPath"
            [alt]="speaker.name"
            class="info-item__media-image">
        </span>
      </div>

      <!-- details -->
      <div
        class="info-item__details">

        <!-- title -->
        <div
          class="info-item__title">

          <ng-container
            *ngFor="let speaker of speakers">
            {{ speaker.name }}
          </ng-container>
        </div>

        <!-- Subtitle -->
        <div
          class="info-item__subtitle">

          <ng-container
            *ngFor="let speaker of speakers">
            {{ speaker.company }}
          </ng-container>
        </div>
      </div>
    </template>

    <template [ngIf]="!sameCompany">
      <div
        *ngFor="let speaker of speakers">
        <div
          class="info-item__media">

          <span
            class="info-item__media-container">
            <img
              [src]="speaker.avatarPath"
              [alt]="speaker.name"
              class="info-item__media-image">
          </span>
        </div>

        <!-- details -->
        <div
          class="info-item__details">

          <!-- title -->
          <div
            class="info-item__title">

            {{ speaker.name }}
          </div>

          <!-- Subtitle -->
          <div
            class="info-item__subtitle">
            {{ speaker.company }}
          </div>
        </div>
      </div>
    </template>
  </div>

  <div
    class="event-card__actions">
    <ng-content select="[actions]"></ng-content>
  </div>
</article>